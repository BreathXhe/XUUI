local observeable = require 'observeable'
local binding =  require 'binding'

local _M = {}


--options = {
--    el = root,
--    data = {},
--    computed = {},
--    methods = {},
--}

local function new(options)
    options = options or {}
    options.data = options.data or {}
    options.computed = options.computed or {}
    options.methods = options.methods or {}
    
    local observe = observeable.new(options.data)
    
    local function attach(el)
        return binding.bind(options.data, observe, options.computed, options.methods, el)
    end
    
    return attach
end

_M.new = new

return _M